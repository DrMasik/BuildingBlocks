<!--
/*
    Copyright 2018 SugarCRM Inc.  Licensed by SugarCRM under the Apache 2.0 license.
 */
-->
<div class="longHelpTitle">Identify Users who have had recent changes to their assigned records.</div>
<div class="summary">
    <h2>Summary:</h2>
    This endpoint identifies Users who have had recent changes to their <strong>assigned</strong> records. Returns an
    array that includes the time on the server when the request was executed and a list of user IDs, usernames, and
    changed modules for users with changes.
</div>
<h2>Request Arguments</h2>
<table class="table table-hover">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Required</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>
            since
        </td>
        <td>
            Timestamp (String) of the format <strong>Y-m-d G:i:s T</strong>. For example, 2018-02-27%2015%3A09%3A09%20UTC
            (url encoded) or 2018-02-27 15:09:09 UTC (decoded).
        </td>
        <td>
            Selects users with records modified since this time.
        </td>
        <td>
            True
        </td>
    </tr>
    <tr>
        <td>
            modules
        </td>
        <td>
            String
        </td>
        <td>
            A comma separated list of modules that will be checked. Modules must be assignable and therefore contain the <code>assigned_to_user field</code>.
        </td>
        <td>
            True
        </td>
    </tr>
    <tr>
        <td>
            add_deleted
        </td>
        <td>
            Boolean (0 or 1)
        </td>
        <td>
            Whether or not "'deleted' = 0" should be added to Where clause of generated SQL query.
        </td>
        <td>
            True
        </td>
    </tr>
    </tbody>
</table>

<h3>Request</h3>
<pre class="pre-scrollable">
http://{site_url}/rest/vXX/Users/recentChanges?since=2018-02-27%2015%3A09%3A09%20UTC&modules=Meetings,Contacts&add_deleted=1
</pre>
<strong>Note:</strong> GET endpoint parameters are passed in the form of a query string.


<h2>Response Arguments</h2>
<table class="table table-hover">
    <thead>
    <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>
            &lt;User IDs&gt;
        </td>
        <td>
            Array&ltString&gt;
        </td>
        <td>
            A JSON array containing the following: <ul>
            <li>The time the query was executed on the server</li>
            <li>A list of records with recent changes.  Each list item contains the user's id, the user's username, and
                a list of modules where records were changed.</li>
            </ul>
        </td>
    </tr>
    </tbody>
</table>

<h3>Response</h3>
<pre class="pre-scrollable">
{
    "currentTime": "2018-02-28 18:41:42 UTC",
    "records": [
        {
            "id": "seed_jim_id",
            "name": "jim",
            "_recentlyChanged": [
                "Meetings",
                "Contacts"
            ]
        },
        {
            "id": "seed_sally_id",
            "name": "sally",
            "_recentlyChanged": [
                "Contacts"
            ]
        }
    ]
}
</pre>
